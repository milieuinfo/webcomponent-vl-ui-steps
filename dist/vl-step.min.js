import{vlElement,define}from"/node_modules/vl-ui-core/dist/vl-core.min.js";import"/node_modules/@govflanders/vl-ui-util/dist/js/util.min.js";import"/node_modules/@govflanders/vl-ui-accordion/dist/js/accordion.min.js";export class VlStep extends(vlElement(HTMLElement)){static get _observedAttributes(){return["type","toggleable"]}static get _observedChildClassAttributes(){return["disabled"]}constructor(){super('\n      <li class="vl-step">\n        <div id="icon" class="vl-step__icon">\n          <span id="sub-icon" class="vl-step__icon__sub"></span>\n        </div>\n        <div class="vl-step__wrapper">\n          <div class="vl-step__header">\n            <div class="vl-step__header__titles">\n              <h3 id="title" class="vl-step__title">\n                <span id="title-label"></span>\n                <span id="title-annotation" class="vl-step__title__annotation"></span>\n              </h3>\n              <p id="sub-title" class="vl-step__subtitle"></p>\n            </div>\n          </div>\n          <div class="vl-step__content-wrapper">\n            <p id="content" class="vl-step__content"></p>\n          </div>\n        </div>\n      </li>\n    '),this._processSlots()}get template(){this._reprocessSlots();const e=this._element.cloneNode(!0);return this._isToggleable&&(vl.accordion.dress(e),e.querySelector("#content").addEventListener("click",(e=>e.stopPropagation()))),e}get _iconElement(){return this._shadow.querySelector("#icon")}get _subIconElement(){return this._iconElement.querySelector("#sub-icon")}get _wrapperElement(){return this._shadow.querySelector(".vl-step__wrapper")}get _headerElement(){return this._wrapperElement.querySelector(".vl-step__header")}get _titleElement(){return this._headerElement.querySelector("#title")}get _titleLabelElement(){return this._headerElement.querySelector("#title-label")}get _titleAnnotationElement(){return this._headerElement.querySelector("#title-annotation")}get _subTitleElement(){return this._headerElement.querySelector("#sub-title")}get _contentElement(){return this._shadow.querySelector("#content")}get _classPrefix(){return"vl-step--"}get _isToggleable(){return this.hasAttribute("toggleable")}_getToggleableHeaderHTML(){return'\n      <button class="vl-step__header js-vl-accordion__toggle">\n        <div class="vl-step__header__titles">\n          <h3 id="title" class="vl-step__title">\n            <span id="title-label"></span>\n          </h3>\n        </div>\n        <div class="vl-step__header__info" aria-hidden="true">\n          <em class="vl-step__accordion-toggle"></em>\n        </div>\n      </button>\n    '}_typeChangedCallback(e,t){this._changeClass(this._element,e,t,this._classPrefix)}_toggleableChangedCallback(e,t){null!=t&&(this._element.classList.add("vl-step--accordion"),this._element.classList.add("js-vl-accordion"),this._headerElement.remove(),this._wrapperElement.insertAdjacentHTML("afterbegin",this._getToggleableHeaderHTML()),this.__processSlot(this.querySelector('[slot="title"]'),(e=>this._titleElement.prepend(e))),this.__processSlot(this.querySelector('[slot="title-label"]'),(e=>this._titleLabelElement.prepend(e))))}_processSlots(){this.__processSlot(this.querySelector('[slot="identifier"]'),(e=>this._iconElement.prepend(e))),this.__processSlot(this.querySelector('[slot="identifier-annotation"]'),(e=>this._subIconElement.append(e))),this.__processSlot(this.querySelector('[slot="title"]'),(e=>this._titleElement.prepend(e))),this.__processSlot(this.querySelector('[slot="title-label"]'),(e=>this._titleLabelElement.prepend(e)),(()=>this._titleLabelElement.classList.add("vl-u-visually-hidden"))),this.__processSlot(this.querySelector('[slot="title-annotation"]'),(e=>this._titleAnnotationElement.append(e)),(()=>this._titleAnnotationElement.hidden=!0)),this.__processSlot(this.querySelector('[slot="sub-title"]'),(e=>this._subTitleElement.append(e))),this.__processSlot(this.querySelector('[slot="content"]'),(e=>this._contentElement.append(e)),(()=>this._contentElement.hidden=!0))}_reprocessSlots(){this._setMutationContent("identifier",(e=>this._iconElement.prepend(e))),this._setMutationContent("identifier-annotation",(e=>this._subIconElement.append(e))),this._setMutationContent("title",(e=>this._titleElement.prepend(e))),this._setMutationContent("title-label",(e=>this._titleLabelElement.prepend(e)),(()=>this._titleLabelElement.classList.add("vl-u-visually-hidden"))),this._setMutationContent("title-annotation",(e=>this._titleAnnotationElement.append(e)),(()=>this._titleAnnotationElement.hidden=!0)),this._setMutationContent("sub-title",(e=>this._subTitleElement.append(e))),this._setMutationContent("content",(e=>this._contentElement.append(e)),(()=>this._contentElement.hidden=!0))}_setMutationContent(e,t,n=(()=>{})){const s=this.querySelector(`[slot="${e}"]`);s?this.__addSlotAfterMutation(s,e,t):this.__removeSlotAfterMutation(e,n)}__processSlot(e,t,n){e&&t?t(e.cloneNode(!0)):n&&n()}__removeSlotAfterMutation(e,t){const n=this._shadow.querySelector(`[slot="${e}"]`);n&&(n.remove(),t())}__addSlotAfterMutation(e,t,n){const s=e.cloneNode(!0);let l=this._shadow.querySelector(`[slot="${t}"]`);l?l.innerHTML=s.innerHTML:(n(s),l=this._shadow.querySelector(`[slot="${t}"]`)),l.parentNode.hidden&&(l.parentNode.hidden=!1),l.parentNode.classList.remove("vl-u-visually-hidden")}}define("vl-step",VlStep);